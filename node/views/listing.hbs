{{!< default}}

<script src="/handlebars.js"></script>
<script id="row-template" src="/row.hbs" type="text/x-handlebars-template"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://192.168.1.3');
  socket.emit('getListing');
  socket.on('client', function(client) {
    //document.getElementById('listing').appendChild(createRow(client));
    document.getElementById('listing').insertAdjacentHTML('beforeend', client);
    //console.log(client);
  });
  function createRow(client) {
    var row = document.createElement('tr');
    var hostCell = document.createElement('td');
    var ipCell   = document.createElement('td');
    hostCell.appendChild(document.createTextNode(client.hostname));
    ipCell.appendChild(document.createTextNode(client.ip));
    row.appendChild(hostCell);
    row.appendChild(ipCell);
    return row;
  }
</script>
<div class="content">
  <table id="listing">
  </table>
</div>
